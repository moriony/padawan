Теория баз данных
=====

Цель: ознакомиться с теорией баз данных, уделив наибольшее внимание конкретной реализации &mdash; MySQL.

#### Документация и литература:
- [Принципы ACID](http://ru.wikipedia.org/wiki/ACID)
- [Блокировки в MySQL](http://habrahabr.ru/post/46542/)
- [Нормальные формы](http://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B0)
- [JOIN](http://ru.wikipedia.org/wiki/Join_(SQL))
- [визуальное объяснение join'ов](http://vas3k.ru/blog/97/)
- [Варианты изоляции транзакций в MySQL](http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html)
- [Первичный ключ](http://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B2%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BB%D1%8E%D1%87)
- [Внешний ключ](http://ru.wikipedia.org/wiki/%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B9_%D0%BA%D0%BB%D1%8E%D1%87)
- [Индексы базы данных](http://ru.wikipedia.org/wiki/%D0%98%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_(%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85))
- [UML Entity Relationship Diagram](http://www.ibm.com/developerworks/rational/library/content/03July/2500/2785/2785_uml.pdf)


#### Вопросы для закрепления материала:
- Что произойдёт, если будут одновременно отправлены два запроса к БД, изменяющие одни и те же строки?
- Что произойдёт при чтении (SELECT) обновляемых в текущий момент данных?
- Что будет, если один из запросов в транзакции завершится ошибкой?
- Чем отличаются разные виды JOIN (INNER, LEFT OUTER, RIGHT OUTER, FULL OUTER, CROSS)?
- Может ли таблица иметь связь саму с собой?
- Какие виды связей бывают в реляционных БД и как они реализуются (показать в виде UML диаграмм)?
- Каким образом можно удалить/изменить связанные данные, располагающиеся в другой таблице?
- Для чего может потребоваться денормализация данных?
- Какие негативные стороны есть у денормализованной структуры?
- Для чего существуют индексы в БД и в каких запросах они бывают неэффективны?


#### Задачи
- На практике попробовать поработать со всеми видами JOIN
- Написать транзакцию, один из запросов которой завершится некорректно

#### Задача на проектирование
Спроектировать базу данных для хранения следующих сущностей: пользователь, видео, тэг.
Каждый пользователь имеет имя, также у каждого пользователя может быть неограниченное число друзей, которые также являются пользователями. Ещё у пользователя может быть один партнёр, т.е. другой пользователь, который привёл текущего пользователя на сайт. Пользователь не может быть сам себе партнёром.
Видео принадлежит конкретному пользователю, причём пользователь может загрузить неограниченное количество видео.
Каждое видео может содержать неограниченное количество тэгов и по каждому тэгу мы можем искать видео, принадлежащее к нему.
Нормализация в БД должна быть не ниже 3НФ.
